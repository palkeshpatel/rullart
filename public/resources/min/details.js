var base_url=$("#base_url").val();function calcprice(){var t=$("#currencycode").val(),e=parseFloat($("#sellingprice").val().replace(",","")),a=parseFloat($("#productprice1").val().replace(",","")),r=parseFloat($("#productprice2").val().replace(",",""));$("#price").html(t+" "+(parseFloat(e)+parseFloat(a)+parseFloat(r)))}$(document).ready(function(){$(".go-back").on("click",function(t){t.preventDefault(),""==document.referrer?location.href=base_url:1==window.history.length?location.href=document.referrer:window.history.back()}),$("#addToCart").on("click",function(t){var e=$("#hdnProductId").val(),a=$("#selectQty").val(),r="0",d=0,o=0;if($("#selectSize").length){if(""==(r=$("#selectSize").val()))return $("#hdnSize").show(),!1;$("#hdnSize").hide()}if(0<$(".productcategory").length){if(0==$(".selectedProduct").length)return $("#hdnSelectProduct").show(),$("html, body").animate({scrollTop:$("#hdnSelectProduct").offset().top},2e3),!1;$("#hdnSelectProduct").hide(),d=$(".selectedProduct").attr("data-value")}if(0<$(".productcategory2").length){if(0==$(".selectedProduct2").length)return $("#hdnSelectProduct2").show(),$("html, body").animate({scrollTop:$("#hdnSelectProduct2").offset().top},2e3),!1;$("#hdnSelectProduct2").hide(),o=$(".selectedProduct2").attr("data-value")}$.ajax({type:"post",url:base_url+"shoppingcart/ajax_cart",data:{action:"add",p_id:e,quantity:a,size:r,giftproductid:d,giftproductid2:o},success:function(a){0==$("#ra-cart .badge").length?$("li.licart a").html(function(t,e){return e+'<span class="badge">'+a+"</span>"}):$("#ra-cart .badge").text(a),$("#ra-cart").click()}})}),$("#selectSize").on("change",function(){var t=$("#hdnProductId").val(),e=$(this).val();""==$("#selectSize").val()?$("#hdnSize").removeClass("hidden"):$("#hdnSize").addClass("hidden"),0<e&&$.ajax({type:"GET",data:{productid:t,sizeid:e},url:base_url+"product/getqty",dataType:"JSON",success:function(t){if(0<parseInt(t.qty)){$("#selectQty").show(),$("#addToCartSoldout").addClass("hidden"),$("#addToCart").removeClass("hidden");var e=[];t.length;qty=t.qty,10<t.qty&&(qty=10);for(var a=1;a<=qty;a++)e[a]='<option value="'+a+'">'+a+"</option>";$("#selectQty").get(0).innerHTML=e.join("")}else alert(parseInt(t.qty)),$("#selectQty").hide(),$("#addToCartSoldout").removeClass("hidden"),$("#addToCart").addClass("hidden")}})}),$(".productcategory").on("click",function(){$("#hdnSelectProduct").hide(),$(".productcategory").removeClass("selectedProduct"),$(this).addClass("selectedProduct"),$(".giftItemImage").removeClass("hidden"),$("html, body").animate({scrollTop:0},"slow");var t=$("#imageurl").val();$("#giftItemImage").attr("src",t+"storage/gallary-"+$(".selectedProduct").attr("data-image")),$("#giftItemImageZoom").removeClass("hidden"),$("#giftItemImageZoom").attr("src",t+"storage/detail-"+$(".selectedProduct").attr("data-image")),$("#giftItemImageZoom").attr("data-imagezoom",t+"storage/"+$(".selectedProduct").attr("data-image")),$("#productprice1").val($(this).attr("data-price")),calcprice()}),$(".productcategory2").on("click",function(){$("#hdnSelectProduct2").hide(),$(".productcategory2").removeClass("selectedProduct2"),$(this).addClass("selectedProduct2"),$(".giftItemImage2").removeClass("hidden"),$("html, body").animate({scrollTop:0},"slow");var t=$("#imageurl").val();$("#giftItemImage2").attr("src",t+"storage/gallary-"+$(".selectedProduct2").attr("data-image")),$("#giftItemImageZoom2").removeClass("hidden"),$("#giftItemImageZoom2").attr("src",t+"storage/detail-"+$(".selectedProduct2").attr("data-image")),$("#giftItemImageZoom2").attr("data-imagezoom",t+"storage/"+$(".selectedProduct2").attr("data-image")),$("#productprice2").val($(this).attr("data-price")),calcprice()}),$("#addToWish").on("click",function(t){var e=$("#hdnProductId").val(),r=$(this);$.ajax({type:"post",url:base_url+"shoppingcart/ajax_wishlist",data:{action:"add",pid:e},success:function(a){"login"==a?$("#ra-login").click():($(r).text(itemaddedwishlist),0==$("#ra-wishlist .badge").length?$("li.liwishlist a").html(function(t,e){return e+'<span class="badge">'+a+"</span>"}):$("#ra-wishlist .badge").text(a))}})})});